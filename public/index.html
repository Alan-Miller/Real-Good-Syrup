<!DOCTYPE html>
<html ng-app="syrupApp">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>Real Good Syrup</title>
    <link rel='shortcut icon' href='./public/img/icons/book(2).png' type='image/x-icon'/ >
    <link rel="stylesheet" href="./builds/all.css">
    <!-- <link rel="stylesheet" href="./styles/reset.css"> -->
    <!-- <link rel="stylesheet" href="./styles/fonts.css"> -->
    <!-- <link rel="stylesheet" href="./styles/main.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/sweetalert2/5.2.0/sweetalert2.css">
  </head>

  <body>

<!-- <div class="parallax">
  <div class="parallax__layer parallax__layer__back">BACK</div>
  <div class="parallax__layer parallax__layer__base">BASE</div>
</div> -->

<div class="parallax-layer-fore">
  <section class="falling-leaf leaf-one"></section>
  <section class="falling-leaf leaf-two"></section>
  <section class="falling-leaf leaf-three"></section>
  <section class="falling-snowflake snowflake-one"></section>
  <section class="falling-snowflake snowflake-two"></section>
  <section class="falling-snowflake snowflake-three"></section>
</div>

<div class="parallax-layer-back">
  <!-- <section class="tree tree-left"></section> -->
  <!-- <section class="tree tree-right"><</section> -->
  <!-- <section class="tree tree-left-back"><</section>
  <section class="tree tree-right-back"><</section> -->

  <!-- <section class="tree tree-deep"></section> -->
  <!-- <section class="hill hill-fg"></section> -->
  <!-- <section class="hill hill-bg"></section> -->
  <!-- <section class="hill hill-dbg"></section> -->
  <!-- <section class="layer hill"><img src="../img/hill.png"></section>
  <section class="layer tree-center"><img src="../img/tree3.png"></section>
  <section class="layer tree-right"><img src="../img/tree-r.png"></section>
  <section class="layer tree-left"><img src="../img/tree-l.png"></section> -->
</div>


<div class="rgs">

    <div id="first" class="flex-centered">
      <section class="leaves leaves-nav-up"></section>
      <section class="leaves leaves-splash-bg"></section>
      <section class="routed-content flex-centered" ui-view="first"></section>
    </div>

    <section id="nav-buffer"></section>

    <nav id="main-nav" class="scroll-nav flex-centered">
      <ul class="pacifico">
        <li ui-sref="landing" class="small-logo admin-fade"><span class="teko">GOOD</span></li>
        <li ui-sref="cart" class="cart-nav admin-fade">Buy</li>
        <li ui-sref="about" class="about-nav admin-fade">About us</li>
        <li ui-sref="process" class="process-nav admin-fade">Our process</li>
        <!-- <li ui-sref="products" class="products-nav">Bottle sizes</li> -->
        <li class="contact-nav admin-fade">Contact us</li>
        <li ui-sref="login" class="login-nav admin-fade"><span class="teko">log in</span></li>
        <li ui-sref="patron" class="my-info-nav patron-fade">my info</li>
        <li class="logout-nav" nav-logout>log out</li>
      </ul>
    </nav>

    <div id="second">
      <section class="leaves leaves-nav-down"></section>
      <!-- <section class="falling-leaf"></section>
      <section class="falling-leaf leaf-two"></section> -->
      <!-- <section class="falling-leaf leaf-three"></section> -->
      <section ui-view="second" id="cart"></section>
    </div>

    <div id="third">
      <!-- <section class="layer hill"><img src="../img/hill.png"></section>
      <section class="layer tree-center"><img src="../img/tree3.png"></section>
      <section class="layer tree-right"><img src="../img/tree-r.png"></section>
      <section class="layer tree-left"><img src="../img/tree-l.png"></section> -->
      <section class="routed-content" ui-view="third"></section>
    </div>

    <div id="fourth">
      <section class="routed-content" ui-view="fourth"></section>
    </div>

    <footer id="footer"></footer>


  </div>

    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.3.1/angular-ui-router.js"></script>
    <script src="https://cdn.jsdelivr.net/satellizer/0.15.5/satellizer.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/sweetalert2/5.2.0/sweetalert2.js"></script>
    <script type="text/javascript" src="https://js.stripe.com/v2/"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-stripe/4.2.12/angular-stripe.js"></script>

    <!-- <script type="text/javascript" src="./builds/all.js"></script> -->
    <script type="text/javascript" src="./app.js"></script>
    <script type="text/javascript" src="./js/scripts.js"></script>
    <script type="text/javascript" src="./js/controllers/aboutControl.js"></script>
    <script type="text/javascript" src="./js/controllers/adminControl.js"></script>
    <script type="text/javascript" src="./js/controllers/cartControl.js"></script>
    <script type="text/javascript" src="./js/controllers/contactControl.js"></script>
    <script type="text/javascript" src="./js/controllers/landingControl.js"></script>
    <script type="text/javascript" src="./js/controllers/loginControl.js"></script>
    <script type="text/javascript" src="./js/controllers/patronControl.js"></script>
    <script type="text/javascript" src="./js/controllers/processControl.js"></script>
    <script type="text/javascript" src="./js/controllers/productsControl.js"></script>
    <script type="text/javascript" src="./js/services/rgsService.js"></script>
    <script type="text/javascript" src="./js/addSubtract.js"></script>
    <script type="text/javascript" src="./js/navLogout.js"></script>
    <script type="text/javascript" src="./js/shortenName.js"></script>
  </body>
</html>





<!--
BACK END
require jwt and moment
pasted in server-side code into server.js
edit getSafeUser function to reflect correct user information
added TOKEN_SECRET to config file
test in Postman

to reroute certain views when not logged in:
  paste in loginRequired code at top of app.js file
  add resolve property only to states that require login (i.e., NOT to login state)

FRONT END
injected satellizer and into app module
injected $authProvider into config function in app module and added $authProvider code at bottom
make sure getUser fn in server controller is correct
inject $auth into login controller and wherever the logout fn is
in login controller, make sure login function is correct
in the logout fn, use $auth.logout()


In pgAdmin:
  CREATE EXTENSION pgcrypto;

In SQL file:
  crypt($1, gen_salt('bf')) in place just the variable

Compare password:
  compare_password.sql
    select password = crypt($1, password) from users where id = $2;
-->


<!--
To update user with hashed password:
  update sql:
    update users
    set password = crypt('j', gen_salt('bf'))
    where id = 3
-->



<!--
TO DO
admin view incorrectly calculates num items
  fix sql statement so admin sees total money, count of products for each user
.i-want div show "1 pints," etc. Always plural.
background

rewrite logout "filler" lines (like fadeOut of nav elements) to separate fn)
nothing in the user (patron) view
  update user info front end
media queries
connect to store (Stripe)
host it (talk to Richard)



DONE
order confirmation window
create user front end
patron logs out on refresh but can still place order that has no id (GET MENTOR)
admin can't buy till after patron buys (maybe a non-issue if admins don't place orders)
fix login/logout buttons
logout logs out but still allows orders
redo tables
check off filled orders (admin)
leaves fall in front of cart
-->



<!-- STRIPE: ctrl, front end, server, app.js -->







<!-- LATER
two servers at once (live server) -->
